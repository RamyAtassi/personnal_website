{"ast":null,"code":"import _classCallCheck from \"/Users/ramyatassi/Desktop/MyTechWorld/mytechworldfront/mytechworld/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ramyatassi/Desktop/MyTechWorld/mytechworldfront/mytechworld/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ramyatassi/Desktop/MyTechWorld/mytechworldfront/mytechworld/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ramyatassi/Desktop/MyTechWorld/mytechworldfront/mytechworld/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ramyatassi/Desktop/MyTechWorld/mytechworldfront/mytechworld/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ramyatassi/Desktop/MyTechWorld/mytechworldfront/mytechworld/src/Components/Project.js\";\nimport React from 'react';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Col, Badge, Progress } from 'reactstrap';\nimport { connect } from 'react-redux';\n\nvar Project =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Project, _React$Component);\n\n  function Project(props) {\n    var _this;\n\n    _classCallCheck(this, Project);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Project).call(this, props));\n\n    _this.handleClickLike = function () {\n      var body = {\n        name: _this.props.name,\n        desc: _this.props.desc,\n        pic_url: _this.props.pic_url,\n        stack_front: _this.props.stack_front,\n        stack_back: _this.props.stack_back,\n        days_spent: _this.props.days_spent,\n        idproject: _this.props.idproject\n      };\n\n      if (_this.props.likedprojects.length < 3) {\n        fetch('https://capsule-exams.herokuapp.com/like-project', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(body)\n        }).then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          _this.setState({\n            like: true\n          });\n\n          _this.props.newlikedproject(data.project);\n\n          var id = Math.floor(Math.random() * 1000);\n\n          _this.props.alert(\"new\", id);\n\n          setTimeout(function () {\n            _this.props.closealert(id);\n          }, 3000);\n        }).catch(function (error) {\n          console.error(error);\n        });\n      } else {\n        var id = Math.floor(Math.random() * 1000);\n\n        _this.props.alert(\"error\", id);\n\n        setTimeout(function () {\n          _this.props.closealert(id);\n        }, 3000);\n      }\n    };\n\n    _this.handleClickDislike = function (idproject) {\n      fetch(\"https://capsule-exams.herokuapp.com/like-project/\".concat(idproject), {\n        method: 'DELETE'\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this.props.dislikeproject(idproject);\n\n        _this.setState({\n          like: false\n        });\n\n        var id = Math.floor(Math.random() * 1000);\n\n        _this.props.alert(\"delete\", id);\n\n        setTimeout(function () {\n          _this.props.closealert(id);\n        }, 3000);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    _this.state = {\n      like: props.like\n    };\n    return _this;\n  } // SECURITY FOR UNSAFE RELOADING (OPTIONAL)\n\n\n  _createClass(Project, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.like !== this.props.like) {\n        this.setState({\n          like: this.props.like\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var stackFront = this.props.stack_front.map(function (e, i) {\n        return React.createElement(Badge, {\n          key: i,\n          color: \"secondary\",\n          style: {\n            padding: 5,\n            margin: 5\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, e);\n      });\n      var stackBack = this.props.stack_back.map(function (e, i) {\n        return React.createElement(Badge, {\n          key: i,\n          color: \"secondary\",\n          style: {\n            padding: 5,\n            margin: 5\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, e);\n      });\n      var display = {};\n      !this.state.like && this.props.viewonlylike ? display.display = 'none' : display.display = '';\n      return React.createElement(Col, {\n        xs: \"12\",\n        md: \"6\",\n        lg: \"4\",\n        style: display,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          marginBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"#FD6861\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(CardImg, {\n        top: true,\n        style: {\n          width: '50%',\n          padding: 20\n        },\n        src: this.props.pic_url,\n        alt: \"Card image cap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 18\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.props.name), React.createElement(CardSubtitle, {\n        style: {\n          minHeight: 50,\n          marginBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.props.desc), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Stack Front\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, stackFront)), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Stack Back\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, stackBack)), React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold',\n          textAlign: 'center',\n          marginTop: 10,\n          marginBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, this.props.days_spent, \"/5 days spent\"), React.createElement(Progress, {\n        style: {\n          marginBottom: 20\n        },\n        color: \"secondary\",\n        value: this.props.days_spent * 100 / 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), !this.state.like ? React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.handleClickLike();\n        },\n        outline: true,\n        color: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \" + Favorite \") : React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.handleClickDislike(_this2.props.idproject);\n        },\n        color: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \" - Favorite \")))));\n    }\n  }]);\n\n  return Project;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    viewonlylike: state.viewonlylike,\n    likedprojects: state.likedprojects\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    newlikedproject: function newlikedproject(project) {\n      dispatch({\n        type: 'newlikedproject',\n        project: project\n      });\n    },\n    dislikeproject: function dislikeproject(idproject) {\n      dispatch({\n        type: 'dislikeproject',\n        idproject: idproject\n      });\n    },\n    alert: function alert(status, id) {\n      dispatch({\n        type: 'alert',\n        status: status,\n        id: id\n      });\n    },\n    closealert: function closealert(id) {\n      dispatch({\n        type: 'closealert',\n        id: id\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Project);","map":{"version":3,"sources":["/Users/ramyatassi/Desktop/MyTechWorld/mytechworldfront/mytechworld/src/Components/Project.js"],"names":["React","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Button","Col","Badge","Progress","connect","Project","props","handleClickLike","body","name","desc","pic_url","stack_front","stack_back","days_spent","idproject","likedprojects","length","fetch","method","headers","JSON","stringify","then","res","json","data","setState","like","newlikedproject","project","id","Math","floor","random","alert","setTimeout","closealert","catch","error","console","handleClickDislike","dislikeproject","state","prevProps","prevState","stackFront","map","e","i","padding","margin","stackBack","display","viewonlylike","marginBottom","backgroundColor","width","fontWeight","fontSize","minHeight","textAlign","marginTop","Component","mapStateToProps","mapDispatchToProps","dispatch","type","status"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Card, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle, Button, Col, Badge, Progress } from 'reactstrap';\nimport { connect } from 'react-redux';\n\nclass Project extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      like: props.like\n    }\n  }\n\n  // SECURITY FOR UNSAFE RELOADING (OPTIONAL)\n  componentDidUpdate(prevProps, prevState) {\n    if(prevProps.like !== this.props.like) {\n      this.setState({like: this.props.like})\n    }\n  }\n\n\n  handleClickLike = () => {\n\n    const body = {\n    name: this.props.name,\n    desc: this.props.desc,\n    pic_url: this.props.pic_url,\n    stack_front: this.props.stack_front,\n    stack_back: this.props.stack_back,\n    days_spent: this.props.days_spent,\n    idproject: this.props.idproject\n    }\n\n    if (this.props.likedprojects.length < 3) {\n      fetch('https://capsule-exams.herokuapp.com/like-project', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(body)\n        })\n        .then(res => res.json())\n        .then(data => {\n          this.setState({\n            like: true\n          })\n          this.props.newlikedproject(data.project)\n          const id = Math.floor(Math.random() * 1000);\n          this.props.alert(\"new\", id)\n          setTimeout( () => {\n            this.props.closealert(id);\n          }, 3000);\n\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    } else {\n      const id = Math.floor(Math.random() * 1000);\n      this.props.alert(\"error\", id)\n      setTimeout( () => {\n        this.props.closealert(id);\n      }, 3000);\n    }\n\n  }\n\n  handleClickDislike = (idproject) => {\n    fetch(`https://capsule-exams.herokuapp.com/like-project/${idproject}`, {\n        method: 'DELETE'})\n        .then(res => res.json())\n        .then(data => {\n          this.props.dislikeproject(idproject)\n          this.setState({\n            like: false\n          })\n          const id = Math.floor(Math.random() * 1000);\n          this.props.alert(\"delete\", id)\n          setTimeout( () => {\n            this.props.closealert(id);\n          }, 3000);\n        })\n        .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  render() {\n\n    let stackFront = this.props.stack_front.map((e, i) => {\n      return(\n        <Badge key={i} color=\"secondary\" style={{padding: 5, margin: 5}}>{e}</Badge>\n      )\n    })\n\n    let stackBack = this.props.stack_back.map((e, i) => {\n      return(\n        <Badge key={i} color=\"secondary\" style={{padding: 5, margin: 5}}>{e}</Badge>\n      )\n    })\n\n    let display = {}\n\n    !this.state.like && this.props.viewonlylike\n    ? display.display = 'none'\n    : display.display = ''\n\n    return (\n      <Col xs=\"12\" md=\"6\" lg=\"4\" style={display}>\n        <div>\n          <Card style={{marginBottom: 10}}>\n          <div style={{backgroundColor: \"#FD6861\"}}>\n            <CardImg top style={{width: '50%', padding: 20}} src={this.props.pic_url} alt=\"Card image cap\" />\n          </div>\n            <CardBody>\n              <CardTitle style={{fontWeight: \"bold\", fontSize: 18}}>{this.props.name}</CardTitle>\n              <CardSubtitle style={{minHeight: 50, marginBottom: 10}}>{this.props.desc}</CardSubtitle>\n              <CardText><span style={{fontWeight: 'bold'}}>Stack Front</span> <br/><span>{stackFront}</span></CardText>\n              <CardText><span style={{fontWeight: 'bold'}}>Stack Back</span> <br/><span>{stackBack}</span></CardText>\n              <span style={{fontWeight: 'bold', textAlign: 'center', marginTop: 10, marginBottom: 10}}>{this.props.days_spent}/5 days spent</span>\n                    <Progress style={{marginBottom: 20}} color='secondary' value={this.props.days_spent*100/5}/>\n              {\n                !this.state.like\n                  ? <Button onClick={() => this.handleClickLike()} outline color=\"dark\"> + Favorite </Button>\n                  : <Button onClick={() => this.handleClickDislike(this.props.idproject)} color=\"dark\"> - Favorite </Button>\n              }\n\n            </CardBody>\n          </Card>\n        </div>\n      </Col>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    viewonlylike: state.viewonlylike,\n    likedprojects: state.likedprojects\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    newlikedproject: function(project) {\n        dispatch({\n          type: 'newlikedproject',\n          project\n        })\n    },\n    dislikeproject: function(idproject) {\n        dispatch({\n          type: 'dislikeproject',\n          idproject\n        })\n    },\n    alert: function(status, id) {\n        dispatch({\n          type: 'alert',\n          status,\n          id\n        })\n    },\n    closealert: function(id) {\n        dispatch({\n          type: 'closealert',\n          id\n        })\n    },\n  }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Project);\n"]},"metadata":{},"sourceType":"module"}